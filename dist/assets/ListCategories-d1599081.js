import{o as H,b as K,r as o,p as Q,q as U,s as J,n as W,j as s}from"./index-5d1582d4.js";import{f as X,g as Y}from"./index-d5b70956.js";import{c as u}from"./convertToSlug-3fcf7559.js";import{O as T}from"./index-1b5c3fd7.js";import{F as n}from"./index-2daf2b68.js";import{u as Z}from"./useTranslation-57c75f11.js";import{S as _}from"./index-a21a4ee5.js";import{I as D}from"./index-ef77481e.js";import{B as $}from"./button-1dd3c86b.js";import{S as ee}from"./index-8ccb2d3a.js";import{P as se}from"./Pagination-bc2271f4.js";import{E as ie}from"./index-3f290c1a.js";import{F as te}from"./FrownTwoTone-71695f31.js";import"./iconBase-7dfc76c2.js";import"./BaseInput-5f67969b.js";import"./useMergedState-a94f801d.js";import"./Compact-de17ca2f.js";import"./ResizeObserver.es-f4289e8a.js";import"./useZIndex-412122f7.js";import"./index-8ab4410e.js";import"./index-3aef6c56.js";import"./Overflow-dad1924c.js";import"./PurePanel-9c90c19c.js";import"./SearchOutlined-54091923.js";import"./asyncToGenerator-f41fc0b7.js";import"./index-c0762df4.js";import"./compact-item-f6aa6deb.js";import"./useCSSVarCls-2b45069f.js";import"./index-98be3a7d.js";import"./reactNode-ed0d3403.js";import"./collapse-97de76d4.js";import"./row-140c9d21.js";import"./responsiveObserver-74647030.js";import"./useLocale-98ce2b95.js";import"./ExclamationCircleFilled-3566f72d.js";import"./pickAttrs-c42834d1.js";import"./move-8c08fc05.js";import"./CheckOutlined-9e439339.js";import"./CloseOutlined-21301cb3.js";import"./DownOutlined-e8684ab4.js";import"./render-43f47cb9.js";import"./LeftOutlined-79fdd531.js";import"./useBreakpoint-945b7321.js";import"./useForceUpdate-3f4a0339.js";const We=()=>{var C,F,E,I,w,P;const[l]=n.useForm(),k=H(),d=K(),{t:a,i18n:A}=Z(),i=k.state,[t,M]=o.useState(1),[r,x]=o.useState(),[O,z]=o.useState(!1),{data:g}=Q(),[m,{data:y,isLoading:v}]=U(),[p,{data:j,isLoading:N}]=J(),[c,{data:L,isLoading:S}]=W();o.useEffect(()=>{i.slug==="clinics"?m({search:"",province:"",status:"1",page:t-1,resultLimit:10}):i.slug==="specialty"?p({name:"",status:"1",page:t-1,resultLimit:10}):i.slug==="doctor"?c({type:1,name:"",clinic:"",speciality:"",page:t-1,resultLimit:10}):i.slug==="service"&&c({type:2,name:"",clinic:"",speciality:"",page:t-1,resultLimit:10})},[i.slug,t,p,m,c]),o.useEffect(()=>{y?x(y):j?x(j):L&&x(L)},[y,j,L]),o.useEffect(()=>{z(v||N||S)},[v,N,S]);const B=(e,h,V,f)=>{e==="clinics"?d(`/co-so-y-te/${u(a(h||""))}`,{state:{slug:e,id:f}}):e==="doctor"?d(`/bac-si/${u(a(V||""))}`,{state:{id:f}}):e==="service"?d(`/dich-vu/${u(a(V||""))}`,{state:{id:f}}):d(`/dich-vu-y-te/${u(a(e))}/${u(a(h||""))}`,{state:{slug:e,id:f}})},R=e=>{M(e),b(e)},b=e=>{i.slug==="clinics"?m({search:l.getFieldValue("search"),province:l.getFieldValue("province"),status:"1",page:e-1,resultLimit:10}):i.slug==="specialty"?p({name:l.getFieldValue("search"),status:"1",page:e-1,resultLimit:10}):i.slug==="doctor"?c({type:1,name:l.getFieldValue("search"),clinic:"",speciality:"",page:e-1,resultLimit:10}):i.slug==="service"&&c({type:2,name:l.getFieldValue("search"),clinic:"",speciality:"",page:e-1,resultLimit:10})};o.useEffect(()=>{b(t)},[i.slug,t]);const q=e=>{i.slug==="clinics"?m({search:e.search,province:e.province,status:"1",page:t-1,resultLimit:10}):i.slug==="specialty"?p({name:e.search,status:"1",page:t-1,resultLimit:10}):i.slug==="doctor"?c({type:1,name:e.search,clinic:"",speciality:"",page:t-1,resultLimit:10}):i.slug==="service"&&c({type:2,name:e.search,clinic:"",speciality:"",page:t-1,resultLimit:10})},G=()=>{i.slug==="clinics"?m({search:"",province:"",status:"1",page:t-1,resultLimit:10}):i.slug==="specialty"?p({name:"",status:"1",page:t-1,resultLimit:10}):i.slug==="doctor"?c({type:1,name:"",clinic:"",speciality:"",page:t-1,resultLimit:10}):i.slug==="service"&&c({type:2,name:"",clinic:"",speciality:"",page:t-1,resultLimit:10}),l.resetFields()};return s.jsxs("div",{className:"max-w-screen-xl mx-auto",children:[s.jsxs("div",{className:"flex items-center gap-1 my-4",children:[s.jsxs("a",{href:"/",className:"text-[#45C3D2] flex gap-1",children:[s.jsx(X,{className:"text-xl"}),"/"]}),s.jsx("p",{className:"font-light",children:a(i.slug)})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("h2",{className:"font-bold text-xl mt-2 mb-4",children:a(i.slug)}),s.jsxs(n,{layout:"inline",onFinish:q,form:l,children:[s.jsx(n.Item,{name:"province",initialValue:"",className:"mr-2",children:i.slug==="clinics"&&s.jsxs(_,{showSearch:!0,style:{width:150},placeholder:"Chọn tỉnh/thành phố",children:[s.jsx(T,{value:"",children:a("listCategories.nationally")}),g&&((C=g==null?void 0:g.data)==null?void 0:C.map(e=>s.jsx(T,{value:e.code,children:A.language==="vi"?e.name:e.nameEn},e.code)))]})}),s.jsx(n.Item,{name:"search",children:s.jsx(D,{placeholder:a("listCategories.search"),prefix:s.jsx(Y,{})})}),s.jsx(n.Item,{children:s.jsx($,{type:"primary",className:"bg-blue-500",htmlType:"submit",children:a("listCategories.search")})}),s.jsx(n.Item,{children:s.jsx($,{onClick:G,children:a("listCategories.reset")})})]})]}),s.jsx(ee,{spinning:O,children:s.jsx("div",{className:"grid grid-cols-1 gap-4 ",children:(F=r==null?void 0:r.data)!=null&&F.data&&((E=r==null?void 0:r.data)==null?void 0:E.data.length)>0?s.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[(w=(I=r==null?void 0:r.data)==null?void 0:I.data)==null?void 0:w.map((e,h)=>s.jsxs("button",{onClick:()=>B(i.slug,e.name,e.doctorName,e.id),className:"flex items-center gap-6 border-b-2 border-gray-200 pb-2",children:[s.jsx("img",{src:e.imageUrl,alt:e.name,className:"w-40 h-24 object-cover"}),s.jsxs("div",{className:"text-start",children:[s.jsx("p",{className:"text-xl mb-1.5",children:e.name||e.doctorName}),s.jsx("p",{className:"",children:e==null?void 0:e.specialityName})]})]},h)),s.jsx("div",{className:"flex justify-center",children:s.jsx(se,{current:t,total:(P=r==null?void 0:r.data)==null?void 0:P.totalItems,pageSize:10,onChange:R})})]}):s.jsx(ie,{image:s.jsx(te,{}),imageStyle:{fontSize:60},description:s.jsxs("span",{children:["Không tìm thấy ",a(i.slug)," phù hợp"]})})})})]})};export{We as default};
