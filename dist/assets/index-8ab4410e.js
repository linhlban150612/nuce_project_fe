import{r as n,aY as Ar,U as M,ad as lt,aH as K,aZ as _t,a_ as dt,aJ as xt,ak as Et,av as At,X as I,a$ as Ft,Y as rr,al as Rt,_ as zt,a3 as It,b0 as jt,b1 as st,ag as mt,b2 as ct,V as qt}from"./index-5d1582d4.js";import{R as Wt}from"./useMergedState-a94f801d.js";import{a as je,i as Ut}from"./Compact-de17ca2f.js";const ot=()=>({height:0,opacity:0}),ht=e=>{const{scrollHeight:t}=e;return{height:t,opacity:1}},Vt=e=>({height:e?e.offsetHeight:0}),it=(e,t)=>(t==null?void 0:t.deadline)===!0||t.propertyName==="height",Qt=function(){return{motionName:`${arguments.length>0&&arguments[0]!==void 0?arguments[0]:"ant"}-motion-collapse`,onAppearStart:ot,onEnterStart:ot,onAppearActive:ht,onEnterActive:ht,onLeaveStart:Vt,onLeaveActive:ot,onAppearEnd:it,onEnterEnd:it,onLeaveEnd:it,motionDeadline:500}},Ca=(e,t,r)=>r!==void 0?r:`${e}-${t}`,Ma=Qt;var Ht=n.createContext(null),gt=[];function Jt(e,t){var r=n.useState(function(){if(!Ar())return null;var h=document.createElement("div");return h}),a=M(r,1),o=a[0],u=n.useRef(!1),c=n.useContext(Ht),v=n.useState(gt),d=M(v,2),m=d[0],k=d[1],g=c||(u.current?void 0:function(h){k(function(S){var $=[h].concat(lt(S));return $})});function P(){o.parentElement||document.body.appendChild(o),u.current=!0}function f(){var h;(h=o.parentElement)===null||h===void 0||h.removeChild(o),u.current=!1}return K(function(){return e?c?c(P):P():f(),f},[e]),K(function(){m.length&&(m.forEach(function(h){return h()}),k(gt))},[m]),[o,g]}var ut;function Zt(e){if(typeof document>"u")return 0;if(e||ut===void 0){var t=document.createElement("div");t.style.width="100%",t.style.height="200px";var r=document.createElement("div"),a=r.style;a.position="absolute",a.top="0",a.left="0",a.pointerEvents="none",a.visibility="hidden",a.width="200px",a.height="150px",a.overflow="hidden",r.appendChild(t),document.body.appendChild(r);var o=t.offsetWidth;r.style.overflow="scroll";var u=t.offsetWidth;o===u&&(u=r.clientWidth),document.body.removeChild(r),ut=o-u}return ut}function yt(e){var t=e.match(/^(.*)px$/),r=Number(t==null?void 0:t[1]);return Number.isNaN(r)?Zt():r}function Gt(e){if(typeof document>"u"||!e||!(e instanceof Element))return{width:0,height:0};var t=getComputedStyle(e,"::-webkit-scrollbar"),r=t.width,a=t.height;return{width:yt(r),height:yt(a)}}function Kt(){return document.body.scrollHeight>(window.innerHeight||document.documentElement.clientHeight)&&window.innerWidth>document.body.offsetWidth}var Yt="rc-util-locker-".concat(Date.now()),bt=0;function Xt(e){var t=!!e,r=n.useState(function(){return bt+=1,"".concat(Yt,"_").concat(bt)}),a=M(r,1),o=a[0];K(function(){if(t){var u=Gt(document.body).width,c=Kt();_t(`
html body {
  overflow-y: hidden;
  `.concat(c?"width: calc(100% - ".concat(u,"px);"):"",`
}`),o)}else dt(o);return function(){dt(o)}},[t,o])}var wt=!1;function Ot(e){return typeof e=="boolean"&&(wt=e),wt}var Ct=function(t){return t===!1?!1:!Ar()||!t?null:typeof t=="string"?document.querySelector(t):typeof t=="function"?t():t},Bt=n.forwardRef(function(e,t){var r=e.open,a=e.autoLock,o=e.getContainer;e.debug;var u=e.autoDestroy,c=u===void 0?!0:u,v=e.children,d=n.useState(r),m=M(d,2),k=m[0],g=m[1],P=k||r;n.useEffect(function(){(c||r)&&g(r)},[r,c]);var f=n.useState(function(){return Ct(o)}),h=M(f,2),S=h[0],$=h[1];n.useEffect(function(){var j=Ct(o);$(j??null)});var E=Jt(P&&!S),D=M(E,2),y=D[0],l=D[1],W=S??y;Xt(a&&r&&Ar()&&(W===y||W===document.body));var q=null;if(v&&xt(v)&&t){var Q=v;q=Q.ref}var Y=Et(q,t);if(!P||!Ar()||S===void 0)return null;var te=W===!1||Ot(),A=v;return t&&(A=n.cloneElement(v,{ref:Y})),n.createElement(Ht.Provider,{value:l},te?A:At.createPortal(A,W))});function pt(){var e=I({},Ft);return e.useId}var Mt=0,St=pt();const ea=St?function(t){var r=St();return t||r}:function(t){var r=n.useState("ssr-id"),a=M(r,2),o=a[0],u=a[1];return n.useEffect(function(){var c=Mt;Mt+=1,u("rc_unique_".concat(c))},[]),t||o},ra=e=>({animationDuration:e,animationFillMode:"both"}),ta=e=>({animationDuration:e,animationFillMode:"both"}),Sa=function(e,t,r,a){const u=(arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1)?"&":"";return{[`
      ${u}${e}-enter,
      ${u}${e}-appear
    `]:Object.assign(Object.assign({},ra(a)),{animationPlayState:"paused"}),[`${u}${e}-leave`]:Object.assign(Object.assign({},ta(a)),{animationPlayState:"paused"}),[`
      ${u}${e}-enter${e}-enter-active,
      ${u}${e}-appear${e}-appear-active
    `]:{animationName:t,animationPlayState:"running"},[`${u}${e}-leave${e}-leave-active`]:{animationName:r,animationPlayState:"running",pointerEvents:"none"}}},aa=function(){if(typeof navigator>"u"||typeof window>"u")return!1;var e=navigator.userAgent||navigator.vendor||window.opera;return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(e==null?void 0:e.substr(0,4))};function na(e){var t=e.prefixCls,r=e.align,a=e.arrow,o=e.arrowPos,u=a||{},c=u.className,v=u.content,d=o.x,m=d===void 0?0:d,k=o.y,g=k===void 0?0:k,P=n.useRef();if(!r||!r.points)return null;var f={position:"absolute"};if(r.autoArrow!==!1){var h=r.points[0],S=r.points[1],$=h[0],E=h[1],D=S[0],y=S[1];$===D||!["t","b"].includes($)?f.top=g:$==="t"?f.top=0:f.bottom=0,E===y||!["l","r"].includes(E)?f.left=m:E==="l"?f.left=0:f.right=0}return n.createElement("div",{ref:P,className:rr("".concat(t,"-arrow"),c),style:f},v)}function oa(e){var t=e.prefixCls,r=e.open,a=e.zIndex,o=e.mask,u=e.motion;return o?n.createElement(Rt,zt({},u,{motionAppear:!0,visible:r,removeOnLeave:!0}),function(c){var v=c.className;return n.createElement("div",{style:{zIndex:a},className:rr("".concat(t,"-mask"),v)})}):null}var ia=n.memo(function(e){var t=e.children;return t},function(e,t){return t.cache}),ua=n.forwardRef(function(e,t){var r=e.popup,a=e.className,o=e.prefixCls,u=e.style,c=e.target,v=e.onVisibleChanged,d=e.open,m=e.keepDom,k=e.fresh,g=e.onClick,P=e.mask,f=e.arrow,h=e.arrowPos,S=e.align,$=e.motion,E=e.maskMotion,D=e.forceRender,y=e.getPopupContainer,l=e.autoDestroy,W=e.portal,q=e.zIndex,Q=e.onMouseEnter,Y=e.onMouseLeave,te=e.onPointerEnter,A=e.ready,j=e.offsetX,de=e.offsetY,me=e.offsetR,ie=e.offsetB,he=e.onAlign,R=e.onPrepare,H=e.stretch,w=e.targetWidth,X=e.targetHeight,L=typeof r=="function"?r():r,ue=d||m,ae=(y==null?void 0:y.length)>0,tr=n.useState(!y||!ae),qe=M(tr,2),ge=qe[0],Ue=qe[1];if(K(function(){!ge&&ae&&c&&Ue(!0)},[ge,ae,c]),!ge)return null;var ne="auto",B={left:"-1000vw",top:"-1000vh",right:ne,bottom:ne};if(A||!d){var O,le=S.points,se=S.dynamicInset||((O=S._experimental)===null||O===void 0?void 0:O.dynamicInset),Ve=se&&le[0][1]==="r",ar=se&&le[0][0]==="b";Ve?(B.right=me,B.left=ne):(B.left=j,B.right=ne),ar?(B.bottom=ie,B.top=ne):(B.top=de,B.bottom=ne)}var F={};return H&&(H.includes("height")&&X?F.height=X:H.includes("minHeight")&&X&&(F.minHeight=X),H.includes("width")&&w?F.width=w:H.includes("minWidth")&&w&&(F.minWidth=w)),d||(F.pointerEvents="none"),n.createElement(W,{open:D||ue,getContainer:y&&function(){return y(c)},autoDestroy:l},n.createElement(oa,{prefixCls:o,open:d,zIndex:q,mask:P,motion:E}),n.createElement(Wt,{onResize:he,disabled:!d},function(Qe){return n.createElement(Rt,zt({motionAppear:!0,motionEnter:!0,motionLeave:!0,removeOnLeave:!1,forceRender:D,leavedClassName:"".concat(o,"-hidden")},$,{onAppearPrepare:R,onEnterPrepare:R,visible:d,onVisibleChanged:function(J){var ye;$==null||(ye=$.onVisibleChanged)===null||ye===void 0||ye.call($,J),v(J)}}),function(Se,J){var ye=Se.className,C=Se.style,xe=rr(o,ye,a);return n.createElement("div",{ref:It(Qe,t,J),className:xe,style:I(I(I(I({"--arrow-x":"".concat(h.x||0,"px"),"--arrow-y":"".concat(h.y||0,"px")},B),F),C),{},{boxSizing:"border-box",zIndex:q},u),onMouseEnter:Q,onMouseLeave:Y,onPointerEnter:te,onClick:g},f&&n.createElement(na,{prefixCls:o,arrow:f,arrowPos:h,align:S}),n.createElement(ia,{cache:!d&&!k},L))})}))}),la=n.forwardRef(function(e,t){var r=e.children,a=e.getTriggerDOMNode,o=xt(r),u=n.useCallback(function(v){jt(t,a?a(v):v)},[a]),c=Et(u,r.ref);return o?n.cloneElement(r,{ref:c}):r}),kt=n.createContext(null);function Pt(e){return e?Array.isArray(e)?e:[e]:[]}function sa(e,t,r,a){return n.useMemo(function(){var o=Pt(r??t),u=Pt(a??t),c=new Set(o),v=new Set(u);return e&&(c.has("hover")&&(c.delete("hover"),c.add("click")),v.has("hover")&&(v.delete("hover"),v.add("click"))),[c,v]},[e,t,r,a])}function ca(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=arguments.length>2?arguments[2]:void 0;return r?e[0]===t[0]:e[0]===t[0]&&e[1]===t[1]}function va(e,t,r,a){for(var o=r.points,u=Object.keys(e),c=0;c<u.length;c+=1){var v,d=u[c];if(ca((v=e[d])===null||v===void 0?void 0:v.points,o,a))return"".concat(t,"-placement-").concat(d)}return""}function $t(e,t,r,a){return t||(r?{motionName:"".concat(e,"-").concat(r)}:a?{motionName:a}:null)}function hr(e){return e.ownerDocument.defaultView}function vt(e){for(var t=[],r=e==null?void 0:e.parentElement,a=["hidden","scroll","clip","auto"];r;){var o=hr(r).getComputedStyle(r),u=o.overflowX,c=o.overflowY,v=o.overflow;[u,c,v].some(function(d){return a.includes(d)})&&t.push(r),r=r.parentElement}return t}function mr(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;return Number.isNaN(e)?t:e}function dr(e){return mr(parseFloat(e),0)}function Dt(e,t){var r=I({},e);return(t||[]).forEach(function(a){if(!(a instanceof HTMLBodyElement||a instanceof HTMLHtmlElement)){var o=hr(a).getComputedStyle(a),u=o.overflow,c=o.overflowClipMargin,v=o.borderTopWidth,d=o.borderBottomWidth,m=o.borderLeftWidth,k=o.borderRightWidth,g=a.getBoundingClientRect(),P=a.offsetHeight,f=a.clientHeight,h=a.offsetWidth,S=a.clientWidth,$=dr(v),E=dr(d),D=dr(m),y=dr(k),l=mr(Math.round(g.width/h*1e3)/1e3),W=mr(Math.round(g.height/P*1e3)/1e3),q=(h-S-D-y)*l,Q=(P-f-$-E)*W,Y=$*W,te=E*W,A=D*l,j=y*l,de=0,me=0;if(u==="clip"){var ie=dr(c);de=ie*l,me=ie*W}var he=g.x+A-de,R=g.y+Y-me,H=he+g.width+2*de-A-j-q,w=R+g.height+2*me-Y-te-Q;r.left=Math.max(r.left,he),r.top=Math.max(r.top,R),r.right=Math.min(r.right,H),r.bottom=Math.min(r.bottom,w)}}),r}function Lt(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r="".concat(t),a=r.match(/^(.*)\%$/);return a?e*(parseFloat(a[1])/100):parseFloat(r)}function Nt(e,t){var r=t||[],a=M(r,2),o=a[0],u=a[1];return[Lt(e.width,o),Lt(e.height,u)]}function Tt(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return[e[0],e[1]]}function er(e,t){var r=t[0],a=t[1],o,u;return r==="t"?u=e.y:r==="b"?u=e.y+e.height:u=e.y+e.height/2,a==="l"?o=e.x:a==="r"?o=e.x+e.width:o=e.x+e.width/2,{x:o,y:u}}function Te(e,t){var r={t:"b",b:"t",l:"r",r:"l"};return e.map(function(a,o){return o===t?r[a]||"c":a}).join("")}function fa(e,t,r,a,o,u,c){var v=n.useState({ready:!1,offsetX:0,offsetY:0,offsetR:0,offsetB:0,arrowX:0,arrowY:0,scaleX:1,scaleY:1,align:o[a]||{}}),d=M(v,2),m=d[0],k=d[1],g=n.useRef(0),P=n.useMemo(function(){return t?vt(t):[]},[t]),f=n.useRef({}),h=function(){f.current={}};e||h();var S=je(function(){if(t&&r&&e){let re=function(Me,Ie){var Oe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:xe,pe=L.x+Me,vr=L.y+Ie,fr=pe+O,Hr=vr+B,et=Math.max(pe,Oe.left),rt=Math.max(vr,Oe.top),tt=Math.min(fr,Oe.right),at=Math.min(Hr,Oe.bottom);return Math.max(0,(tt-et)*(at-rt))},Wr=function(){$e=L.y+b,De=$e+B,Le=L.x+x,Ge=Le+O};var D,y,l=t,W=l.ownerDocument,q=hr(l),Q=q.getComputedStyle(l),Y=Q.width,te=Q.height,A=Q.position,j=l.style.left,de=l.style.top,me=l.style.right,ie=l.style.bottom,he=l.style.overflow,R=I(I({},o[a]),u),H=W.createElement("div");(D=l.parentElement)===null||D===void 0||D.appendChild(H),H.style.left="".concat(l.offsetLeft,"px"),H.style.top="".concat(l.offsetTop,"px"),H.style.position=A,H.style.height="".concat(l.offsetHeight,"px"),H.style.width="".concat(l.offsetWidth,"px"),l.style.left="0",l.style.top="0",l.style.right="auto",l.style.bottom="auto",l.style.overflow="hidden";var w;if(Array.isArray(r))w={x:r[0],y:r[1],width:0,height:0};else{var X=r.getBoundingClientRect();w={x:X.x,y:X.y,width:X.width,height:X.height}}var L=l.getBoundingClientRect(),ue=W.documentElement,ae=ue.clientWidth,tr=ue.clientHeight,qe=ue.scrollWidth,ge=ue.scrollHeight,Ue=ue.scrollTop,ne=ue.scrollLeft,B=L.height,O=L.width,le=w.height,se=w.width,Ve={left:0,top:0,right:ae,bottom:tr},ar={left:-ne,top:-Ue,right:qe-ne,bottom:ge-Ue},F=R.htmlRegion,Qe="visible",Se="visibleFirst";F!=="scroll"&&F!==Se&&(F=Qe);var J=F===Se,ye=Dt(ar,P),C=Dt(Ve,P),xe=F===Qe?C:ye,p=J?C:xe;l.style.left="auto",l.style.top="auto",l.style.right="0",l.style.bottom="0";var gr=l.getBoundingClientRect();l.style.left=j,l.style.top=de,l.style.right=me,l.style.bottom=ie,l.style.overflow=he,(y=l.parentElement)===null||y===void 0||y.removeChild(H);var Ee=mr(Math.round(O/parseFloat(Y)*1e3)/1e3),Re=mr(Math.round(B/parseFloat(te)*1e3)/1e3);if(Ee===0||Re===0||st(r)&&!Ut(r))return;var yr=R.offset,U=R.targetOffset,Fr=Nt(L,yr),br=M(Fr,2),oe=br[0],ee=br[1],ce=Nt(w,U),wr=M(ce,2),Cr=wr[0],Ir=wr[1];w.x-=Cr,w.y-=Ir;var Je=R.points||[],Z=M(Je,2),ke=Z[0],jr=Z[1],be=Tt(jr),G=Tt(ke),Mr=er(w,be),nr=er(L,G),Pe=I({},R),x=Mr.x-nr.x+oe,b=Mr.y-nr.y+ee,ve=re(x,b),fe=re(x,b,C),ze=er(w,["t","l"]),or=er(L,["t","l"]),ir=er(w,["b","r"]),ur=er(L,["b","r"]),V=R.overflow||{},qr=V.adjustX,Sr=V.adjustY,Ze=V.shiftX,lr=V.shiftY,kr=function(Ie){return typeof Ie=="boolean"?Ie:Ie>=0},$e,De,Le,Ge;Wr();var sr=kr(Sr),cr=G[0]===be[0];if(sr&&G[0]==="t"&&(De>p.bottom||f.current.bt)){var We=b;cr?We-=B-le:We=ze.y-ur.y-ee;var He=re(x,We),Ur=re(x,We,C);He>ve||He===ve&&(!J||Ur>=fe)?(f.current.bt=!0,b=We,ee=-ee,Pe.points=[Te(G,0),Te(be,0)]):f.current.bt=!1}if(sr&&G[0]==="b"&&($e<p.top||f.current.tb)){var _=b;cr?_+=B-le:_=ir.y-or.y-ee;var Pr=re(x,_),Vr=re(x,_,C);Pr>ve||Pr===ve&&(!J||Vr>=fe)?(f.current.tb=!0,b=_,ee=-ee,Pe.points=[Te(G,0),Te(be,0)]):f.current.tb=!1}var $r=kr(qr),Dr=G[1]===be[1];if($r&&G[1]==="l"&&(Ge>p.right||f.current.rl)){var Be=x;Dr?Be-=O-se:Be=ze.x-ur.x-oe;var Lr=re(Be,b),Qr=re(Be,b,C);Lr>ve||Lr===ve&&(!J||Qr>=fe)?(f.current.rl=!0,x=Be,oe=-oe,Pe.points=[Te(G,1),Te(be,1)]):f.current.rl=!1}if($r&&G[1]==="r"&&(Le<p.left||f.current.lr)){var _e=x;Dr?_e+=O-se:_e=ir.x-or.x-oe;var Nr=re(_e,b),Ke=re(_e,b,C);Nr>ve||Nr===ve&&(!J||Ke>=fe)?(f.current.lr=!0,x=_e,oe=-oe,Pe.points=[Te(G,1),Te(be,1)]):f.current.lr=!1}Wr();var we=Ze===!0?0:Ze;typeof we=="number"&&(Le<C.left&&(x-=Le-C.left-oe,w.x+se<C.left+we&&(x+=w.x-C.left+se-we)),Ge>C.right&&(x-=Ge-C.right-oe,w.x>C.right-we&&(x+=w.x-C.right+we)));var Ae=lr===!0?0:lr;typeof Ae=="number"&&($e<C.top&&(b-=$e-C.top-ee,w.y+le<C.top+Ae&&(b+=w.y-C.top+le-Ae)),De>C.bottom&&(b-=De-C.bottom-ee,w.y>C.bottom-Ae&&(b+=w.y-C.bottom+Ae)));var Ye=L.x+x,Xe=Ye+O,Ce=L.y+b,Tr=Ce+B,Fe=w.x,Ne=Fe+se,xr=w.y,Jr=xr+le,Zr=Math.max(Ye,Fe),Er=Math.min(Xe,Ne),Gr=(Zr+Er)/2,Kr=Gr-Ye,Yr=Math.max(Ce,xr),Rr=Math.min(Tr,Jr),Xr=(Yr+Rr)/2,Or=Xr-Ce;c==null||c(t,Pe);var zr=gr.right-L.x-(x+L.width),pr=gr.bottom-L.y-(b+L.height);k({ready:!0,offsetX:x/Ee,offsetY:b/Re,offsetR:zr/Ee,offsetB:pr/Re,arrowX:Kr/Ee,arrowY:Or/Re,scaleX:Ee,scaleY:Re,align:Pe})}}),$=function(){g.current+=1;var y=g.current;Promise.resolve().then(function(){g.current===y&&S()})},E=function(){k(function(y){return I(I({},y),{},{ready:!1})})};return K(E,[a]),K(function(){e||E()},[e]),[m.ready,m.offsetX,m.offsetY,m.offsetR,m.offsetB,m.arrowX,m.arrowY,m.scaleX,m.scaleY,m.align,$]}function da(e,t,r,a,o){K(function(){if(e&&t&&r){let g=function(){a(),o()};var u=t,c=r,v=vt(u),d=vt(c),m=hr(c),k=new Set([m].concat(lt(v),lt(d)));return k.forEach(function(P){P.addEventListener("scroll",g,{passive:!0})}),m.addEventListener("resize",g,{passive:!0}),a(),function(){k.forEach(function(P){P.removeEventListener("scroll",g),m.removeEventListener("resize",g)})}}},[e,t,r])}function ma(e,t,r,a,o,u,c,v){var d=n.useRef(e),m=n.useRef(!1);d.current!==e&&(m.current=!0,d.current=e),n.useEffect(function(){var k=mt(function(){m.current=!1});return function(){mt.cancel(k)}},[e]),n.useEffect(function(){if(t&&a&&(!o||u)){var k=function(){var q=!1,Q=function(A){var j=A.target;q=c(j)},Y=function(A){var j=A.target;!m.current&&d.current&&!q&&!c(j)&&v(!1)};return[Q,Y]},g=k(),P=M(g,2),f=P[0],h=P[1],S=k(),$=M(S,2),E=$[0],D=$[1],y=hr(a);y.addEventListener("mousedown",f,!0),y.addEventListener("click",h,!0),y.addEventListener("contextmenu",h,!0);var l=ct(r);return l&&(l.addEventListener("mousedown",E,!0),l.addEventListener("click",D,!0),l.addEventListener("contextmenu",D,!0)),function(){y.removeEventListener("mousedown",f,!0),y.removeEventListener("click",h,!0),y.removeEventListener("contextmenu",h,!0),l&&(l.removeEventListener("mousedown",E,!0),l.removeEventListener("click",D,!0),l.removeEventListener("contextmenu",D,!0))}}},[t,r,a,o,u])}var ha=["prefixCls","children","action","showAction","hideAction","popupVisible","defaultPopupVisible","onPopupVisibleChange","afterPopupVisibleChange","mouseEnterDelay","mouseLeaveDelay","focusDelay","blurDelay","mask","maskClosable","getPopupContainer","forceRender","autoDestroy","destroyPopupOnHide","popup","popupClassName","popupStyle","popupPlacement","builtinPlacements","popupAlign","zIndex","stretch","getPopupClassNameFromAlign","fresh","alignPoint","onPopupClick","onPopupAlign","arrow","popupMotion","maskMotion","popupTransitionName","popupAnimation","maskTransitionName","maskAnimation","className","getTriggerDOMNode"];function ga(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Bt,t=n.forwardRef(function(r,a){var o=r.prefixCls,u=o===void 0?"rc-trigger-popup":o,c=r.children,v=r.action,d=v===void 0?"hover":v,m=r.showAction,k=r.hideAction,g=r.popupVisible,P=r.defaultPopupVisible,f=r.onPopupVisibleChange,h=r.afterPopupVisibleChange,S=r.mouseEnterDelay,$=r.mouseLeaveDelay,E=$===void 0?.1:$,D=r.focusDelay,y=r.blurDelay,l=r.mask,W=r.maskClosable,q=W===void 0?!0:W,Q=r.getPopupContainer,Y=r.forceRender,te=r.autoDestroy,A=r.destroyPopupOnHide,j=r.popup,de=r.popupClassName,me=r.popupStyle,ie=r.popupPlacement,he=r.builtinPlacements,R=he===void 0?{}:he,H=r.popupAlign,w=r.zIndex,X=r.stretch,L=r.getPopupClassNameFromAlign,ue=r.fresh,ae=r.alignPoint,tr=r.onPopupClick,qe=r.onPopupAlign,ge=r.arrow,Ue=r.popupMotion,ne=r.maskMotion,B=r.popupTransitionName,O=r.popupAnimation,le=r.maskTransitionName,se=r.maskAnimation,Ve=r.className,ar=r.getTriggerDOMNode,F=qt(r,ha),Qe=te||A||!1,Se=n.useState(!1),J=M(Se,2),ye=J[0],C=J[1];K(function(){C(aa())},[]);var xe=n.useRef({}),p=n.useContext(kt),gr=n.useMemo(function(){return{registerSubPopup:function(s,N){xe.current[s]=N,p==null||p.registerSubPopup(s,N)}}},[p]),Ee=ea(),Re=n.useState(null),yr=M(Re,2),U=yr[0],Fr=yr[1],br=je(function(i){st(i)&&U!==i&&Fr(i),p==null||p.registerSubPopup(Ee,i)}),oe=n.useState(null),ee=M(oe,2),ce=ee[0],wr=ee[1],Cr=n.useRef(null),Ir=je(function(i){st(i)&&ce!==i&&(wr(i),Cr.current=i)}),Je=n.Children.only(c),Z=(Je==null?void 0:Je.props)||{},ke={},jr=je(function(i){var s,N,z=ce;return(z==null?void 0:z.contains(i))||((s=ct(z))===null||s===void 0?void 0:s.host)===i||i===z||(U==null?void 0:U.contains(i))||((N=ct(U))===null||N===void 0?void 0:N.host)===i||i===U||Object.values(xe.current).some(function(T){return(T==null?void 0:T.contains(i))||i===T})}),be=$t(u,Ue,O,B),G=$t(u,ne,se,le),Mr=n.useState(P||!1),nr=M(Mr,2),Pe=nr[0],x=nr[1],b=g??Pe,ve=je(function(i){g===void 0&&x(i)});K(function(){x(g||!1)},[g]);var fe=n.useRef(b);fe.current=b;var ze=n.useRef([]);ze.current=[];var or=je(function(i){var s;ve(i),((s=ze.current[ze.current.length-1])!==null&&s!==void 0?s:b)!==i&&(ze.current.push(i),f==null||f(i))}),ir=n.useRef(),ur=function(){clearTimeout(ir.current)},V=function(s){var N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;ur(),N===0?or(s):ir.current=setTimeout(function(){or(s)},N*1e3)};n.useEffect(function(){return ur},[]);var qr=n.useState(!1),Sr=M(qr,2),Ze=Sr[0],lr=Sr[1];K(function(i){(!i||b)&&lr(!0)},[b]);var kr=n.useState(null),$e=M(kr,2),De=$e[0],Le=$e[1],Ge=n.useState([0,0]),sr=M(Ge,2),cr=sr[0],We=sr[1],He=function(s){We([s.clientX,s.clientY])},Ur=fa(b,U,ae?cr:ce,ie,R,H,qe),_=M(Ur,11),Pr=_[0],Vr=_[1],$r=_[2],Dr=_[3],Be=_[4],Lr=_[5],Qr=_[6],_e=_[7],Nr=_[8],Ke=_[9],we=_[10],Ae=sa(ye,d,m,k),Ye=M(Ae,2),Xe=Ye[0],Ce=Ye[1],Tr=Xe.has("click"),Fe=Ce.has("click")||Ce.has("contextMenu"),Ne=je(function(){Ze||we()}),xr=function(){fe.current&&ae&&Fe&&V(!1)};da(b,ce,U,Ne,xr),K(function(){Ne()},[cr,ie]),K(function(){b&&!(R!=null&&R[ie])&&Ne()},[JSON.stringify(H)]);var Jr=n.useMemo(function(){var i=va(R,u,Ke,ae);return rr(i,L==null?void 0:L(Ke))},[Ke,L,R,u,ae]);n.useImperativeHandle(a,function(){return{nativeElement:Cr.current,forceAlign:Ne}});var Zr=n.useState(0),Er=M(Zr,2),Gr=Er[0],Kr=Er[1],Yr=n.useState(0),Rr=M(Yr,2),Xr=Rr[0],Or=Rr[1],zr=function(){if(X&&ce){var s=ce.getBoundingClientRect();Kr(s.width),Or(s.height)}},pr=function(){zr(),Ne()},re=function(s){lr(!1),we(),h==null||h(s)},Wr=function(){return new Promise(function(s){zr(),Le(function(){return s})})};K(function(){De&&(we(),De(),Le(null))},[De]);function Me(i,s,N,z){ke[i]=function(T){var Br;z==null||z(T),V(s,N);for(var nt=arguments.length,ft=new Array(nt>1?nt-1:0),_r=1;_r<nt;_r++)ft[_r-1]=arguments[_r];(Br=Z[i])===null||Br===void 0||Br.call.apply(Br,[Z,T].concat(ft))}}(Tr||Fe)&&(ke.onClick=function(i){var s;fe.current&&Fe?V(!1):!fe.current&&Tr&&(He(i),V(!0));for(var N=arguments.length,z=new Array(N>1?N-1:0),T=1;T<N;T++)z[T-1]=arguments[T];(s=Z.onClick)===null||s===void 0||s.call.apply(s,[Z,i].concat(z))}),ma(b,Fe,ce,U,l,q,jr,V);var Ie=Xe.has("hover"),Oe=Ce.has("hover"),pe,vr;Ie&&(Me("onMouseEnter",!0,S,function(i){He(i)}),Me("onPointerEnter",!0,S,function(i){He(i)}),pe=function(s){(b||Ze)&&U!==null&&U!==void 0&&U.contains(s.target)&&V(!0,S)},ae&&(ke.onMouseMove=function(i){var s;(s=Z.onMouseMove)===null||s===void 0||s.call(Z,i)})),Oe&&(Me("onMouseLeave",!1,E),Me("onPointerLeave",!1,E),vr=function(){V(!1,E)}),Xe.has("focus")&&Me("onFocus",!0,D),Ce.has("focus")&&Me("onBlur",!1,y),Xe.has("contextMenu")&&(ke.onContextMenu=function(i){var s;fe.current&&Ce.has("contextMenu")?V(!1):(He(i),V(!0)),i.preventDefault();for(var N=arguments.length,z=new Array(N>1?N-1:0),T=1;T<N;T++)z[T-1]=arguments[T];(s=Z.onContextMenu)===null||s===void 0||s.call.apply(s,[Z,i].concat(z))}),Ve&&(ke.className=rr(Z.className,Ve));var fr=I(I({},Z),ke),Hr={},et=["onContextMenu","onClick","onMouseDown","onTouchStart","onMouseEnter","onMouseLeave","onFocus","onBlur"];et.forEach(function(i){F[i]&&(Hr[i]=function(){for(var s,N=arguments.length,z=new Array(N),T=0;T<N;T++)z[T]=arguments[T];(s=fr[i])===null||s===void 0||s.call.apply(s,[fr].concat(z)),F[i].apply(F,z)})});var rt=n.cloneElement(Je,I(I({},fr),Hr)),tt={x:Lr,y:Qr},at=ge?I({},ge!==!0?ge:{}):null;return n.createElement(n.Fragment,null,n.createElement(Wt,{disabled:!b,ref:Ir,onResize:pr},n.createElement(la,{getTriggerDOMNode:ar},rt)),n.createElement(kt.Provider,{value:gr},n.createElement(ua,{portal:e,ref:br,prefixCls:u,popup:j,className:rr(de,Jr),style:me,target:ce,onMouseEnter:pe,onMouseLeave:vr,onPointerEnter:pe,zIndex:w,open:b,keepDom:Ze,fresh:ue,onClick:tr,mask:l,motion:be,maskMotion:G,onVisibleChanged:re,onPrepare:Wr,forceRender:Y,autoDestroy:Qe,getPopupContainer:Q,align:Ke,arrow:at,arrowPos:tt,ready:Pr,offsetX:Vr,offsetY:$r,offsetR:Dr,offsetB:Be,onAlign:Ne,stretch:X,targetWidth:Gr/_e,targetHeight:Xr/Nr})))});return t}const ka=ga(Bt);export{Bt as P,ka as T,Ma as a,Sa as b,Zt as c,Gt as d,Ca as g,aa as i,ea as u};
