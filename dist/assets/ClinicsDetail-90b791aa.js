import{o as Q,r as i,y as V,n as q,j as e,L as z}from"./index-5d1582d4.js";import{f as J,j as K,a as W}from"./index-d5b70956.js";import{L as v}from"./ListBooking-9a478639.js";import{u as X}from"./useTranslation-57c75f11.js";import{S as Y}from"./index-8ccb2d3a.js";import"./iconBase-7dfc76c2.js";import"./index-7633af43.js";import"./index-2ebe3d10.js";import"./convertToSlug-3fcf7559.js";import"./index-a21a4ee5.js";import"./useMergedState-a94f801d.js";import"./Compact-de17ca2f.js";import"./ResizeObserver.es-f4289e8a.js";import"./index-8ab4410e.js";import"./useZIndex-412122f7.js";import"./pickAttrs-c42834d1.js";import"./Overflow-dad1924c.js";import"./PurePanel-9c90c19c.js";import"./SearchOutlined-54091923.js";import"./asyncToGenerator-f41fc0b7.js";import"./index-3f290c1a.js";import"./useLocale-98ce2b95.js";import"./useCSSVarCls-2b45069f.js";import"./compact-item-f6aa6deb.js";import"./move-8c08fc05.js";import"./CheckOutlined-9e439339.js";import"./CloseOutlined-21301cb3.js";import"./DownOutlined-e8684ab4.js";import"./Pagination-bc2271f4.js";import"./LeftOutlined-79fdd531.js";import"./useBreakpoint-945b7321.js";import"./useForceUpdate-3f4a0339.js";import"./responsiveObserver-74647030.js";import"./index-c0762df4.js";import"./reactNode-ed0d3403.js";const He=()=>{var j,D,w,S,y,b;const l=Q(),{t:o}=X(),[r,N]=i.useState(!1),[c,C]=i.useState(Array(10).fill(!1)),[m,L]=i.useState(1),[d,k]=i.useState(1),[x,M]=i.useState(Array(10).fill(0)),[u,A]=i.useState(Array(10).fill(0)),[P,B]=i.useState([]),[E,H]=i.useState([]),h=i.useRef(null),{data:t,isLoading:I}=V(l.state.id),[p,{isLoading:g}]=q();i.useEffect(()=>{R(),F()},[p,l.state.id,m,d]);const R=async()=>{const s=await p({type:1,name:"",clinic:l.state.id,speciality:"",page:m-1,resultLimit:5});"data"in s&&B(s.data)},F=async()=>{const s=await p({type:2,name:"",clinic:l.state.id,speciality:"",page:d-1,resultLimit:5});"data"in s&&H(s.data)},f=s=>{const a=[...c];a[s]=!a[s],C(a)},O=s=>{L(s)},T=s=>{k(s)},U=(s,a)=>{const n=[...x];n[a]=s,M(n)},_=(s,a)=>{const n=[...u];n[a]=s,A(n)},$=()=>{h.current&&h.current.scrollIntoView({behavior:"smooth"})},G=()=>{N(!r)};return e.jsxs("div",{children:[e.jsx(Y,{spinning:I,children:e.jsxs("div",{className:"max-w-screen-xl mx-auto p-12",children:[e.jsxs("div",{className:"flex items-center gap-1 my-4 text-[#45C3D2] ",children:[e.jsxs("a",{href:"/",className:"flex gap-1",children:[e.jsx(J,{className:"text-xl"}),"/"]}),e.jsx("p",{children:o(l.state.slug)})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-32 h-32 ",children:e.jsx("img",{src:(j=t==null?void 0:t.data)==null?void 0:j.imageUrl,className:"object-cover p-4 w-full h-full",alt:""})}),e.jsxs("div",{className:"text-[#28213F] leading-10",children:[e.jsx("p",{className:"text-2xl font-semibold",children:(D=t==null?void 0:t.data)==null?void 0:D.name}),e.jsx("p",{className:"text-lg",children:(w=t==null?void 0:t.data)==null?void 0:w.address})]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-lg",children:o("clinicsDetail.descClinics")}),e.jsx("div",{className:`${r?"max-h-full":"max-h-40 overflow-hidden"} transition-max-h duration-500 ease-in-out ml-3`,dangerouslySetInnerHTML:{__html:((S=t==null?void 0:t.data)==null?void 0:S.descriptionHtml)||""}}),e.jsx("button",{className:"mt-2 flex text-[#288AD6] font-light",onClick:G,children:r?e.jsxs("span",{children:[o("clinicsDetail.hidden"),e.jsx(K,{className:"inline-block"})]}):e.jsxs("span",{children:[o("clinicsDetail.more"),e.jsx(W,{className:"inline-block"})]})})]})]})}),e.jsxs("div",{className:"bg-gray-100 mt-2 py-4",children:[e.jsx("h2",{className:"font-semibold text-gray-800 text-2xl max-w-screen-xl mx-auto mb-4",ref:h,children:o("clinicsDetail.doctor")}),e.jsx(v,{lstService:P,currentPage:m,handlePageChange:O,handleDateChange:U,selectedDates:x,toggleShowMoreDetails:f,showMoreDetails:c,doctorLoading:g}),e.jsx("h2",{className:"font-semibold text-gray-800 text-2xl max-w-screen-xl mx-auto mb-4",children:o("clinicsDetail.service")}),e.jsx(v,{lstService:E,currentPage:d,handlePageChange:T,handleDateChange:_,selectedDates:u,toggleShowMoreDetails:f,showMoreDetails:c,doctorLoading:g})]}),e.jsx("div",{className:"fixed bottom-0 w-full bg-white py-3 px-14",children:((y=t==null?void 0:t.data)==null?void 0:y.hasChildren)===0?e.jsx("button",{onClick:$,className:"bg-yellow-400 text-white w-full justify-between py-2 rounded-md text-lg hover:brightness-105",children:"Đặt lịch khám"}):e.jsx(z,{to:`${(b=t==null?void 0:t.data)==null?void 0:b.id}`,className:"block text-center bg-blue-400 text-white w-full justify-between py-2 rounded-md text-lg hover:brightness-105",children:"Chọn chuyên khoa"})})]})};export{He as default};
