import{r as x,s as A,B as C,C as L,j as t,L as F}from"./index-5d1582d4.js";import{k as w,l as E,m as M}from"./index-d5b70956.js";import{N as g}from"./Notification-b903467d.js";import{F as o}from"./index-2daf2b68.js";import{B as l}from"./button-1dd3c86b.js";import{I as O}from"./index-ef77481e.js";import{S as y}from"./index-a21a4ee5.js";import{T as V,a as B}from"./index-89427187.js";import{S as P,D as R}from"./index-4ad10529.js";import{M as D}from"./MoreOutlined-371685d0.js";import{E as U}from"./ExclamationCircleFilled-3566f72d.js";import{M as _}from"./index-2499abbf.js";import{R as z}from"./ReloadOutlined-5d09a93f.js";import{S as Q}from"./SearchOutlined-54091923.js";import"./iconBase-7dfc76c2.js";import"./render-43f47cb9.js";import"./asyncToGenerator-f41fc0b7.js";import"./CloseOutlined-21301cb3.js";import"./useZIndex-412122f7.js";import"./useCSSVarCls-2b45069f.js";import"./index-8ab4410e.js";import"./useMergedState-a94f801d.js";import"./Compact-de17ca2f.js";import"./ResizeObserver.es-f4289e8a.js";import"./index-98be3a7d.js";import"./reactNode-ed0d3403.js";import"./collapse-97de76d4.js";import"./row-140c9d21.js";import"./responsiveObserver-74647030.js";import"./useLocale-98ce2b95.js";import"./compact-item-f6aa6deb.js";import"./index-c0762df4.js";import"./BaseInput-5f67969b.js";import"./pickAttrs-c42834d1.js";import"./Overflow-dad1924c.js";import"./PurePanel-9c90c19c.js";import"./index-3f290c1a.js";import"./move-8c08fc05.js";import"./CheckOutlined-9e439339.js";import"./DownOutlined-e8684ab4.js";import"./index-1944453b.js";import"./index-949dd1fb.js";import"./index-3651fbdb.js";import"./useBreakpoint-945b7321.js";import"./useForceUpdate-3f4a0339.js";import"./Pagination-bc2271f4.js";import"./LeftOutlined-79fdd531.js";import"./index-8ccb2d3a.js";import"./index-da9f04ea.js";import"./index-3aef6c56.js";import"./EllipsisOutlined-5f99f7fa.js";import"./extendsObject-e8a436b4.js";import"./useClosable-dc268733.js";import"./Dropdown-fc6ae30f.js";import"./fade-72ecde73.js";const{confirm:G}=_,Wt=()=>{var c,p,h,d,u;const[s]=o.useForm(),[j,f]=x.useState(1),[r,{data:i,isLoading:k}]=A(),[S]=C(),{data:m}=L();x.useEffect(()=>{r({name:"",status:"",page:0,resultLimit:10})},[r]);const N=(e,a)=>{if(e!==void 0){const n=a==="1"?"Bạn có muốn chuyển trạng thái chuyên khoa này sang Active không??":"Bạn có muốn chuyển trạng thái chuyên khoa này sang Inactive không??";G({title:"Xác nhận chuyển trạng thái",icon:t.jsx(U,{}),content:n,okText:"Có",cancelText:"Không",okType:"danger",async onOk(){try{await S({id:e,status:a}),g("success","Thành công","Đổi trạng thái thành công!!"),r({name:s.getFieldValue("name"),status:s.getFieldValue("status"),page:j-1,resultLimit:10})}catch{g("error","Lỗi","Lỗi đổi trạng thái")}}})}},v=e=>{r({name:e.name,status:e.status,page:0,resultLimit:10})},T=()=>{s.resetFields(),r({name:"",status:"",page:0,resultLimit:10})},b=(e,a)=>{f(e),r({name:s.getFieldValue("name"),status:s.getFieldValue("status"),page:e-1,resultLimit:a||10})},I=[{title:"STT",key:"index",width:100,render:(e,a,n)=>n+1},{title:"Tên chuyên khoa",dataIndex:"name",key:"name"},{title:"Ảnh",dataIndex:"imageUrl",key:"imageUrl",render:e=>t.jsx("img",{src:e,alt:"Ảnh",style:{maxWidth:"100px",maxHeight:"100px"}})},{title:"Trạng thái",dataIndex:"status",key:"status",render:e=>t.jsx(B,{color:e==="0"?"red":"green",children:e==="0"?"INACTIVE":"ACTIVE"}),width:100},{title:"Action",key:"action",fixed:"right",width:100,render:(e,a)=>{const n=[{key:"edit",label:t.jsx("a",{href:`sua-chuyen-khoa/${a.id}`,children:t.jsxs("p",{className:"",children:[t.jsx(w,{className:"inline-block mr-2 text-xl "}),"Sửa"]})})},{key:a.status==="1"?"active":"inactive",label:t.jsx("button",{onClick:()=>{N(a.id,a.status==="1"?"0":"1")},children:t.jsxs("p",{className:"",children:[a.status==="1"?t.jsx(E,{className:"inline-block mr-2 text-xl"}):t.jsx(M,{className:"inline-block mr-2 text-xl"}),a.status==="1"?"Inactive":"Active"]})})}];return t.jsx("div",{className:"flex gap-2",children:t.jsx(P,{size:"middle",children:t.jsx(R,{menu:{items:n},trigger:["hover"],children:t.jsx("a",{children:t.jsx(D,{})})})})})}}];return t.jsxs("div",{className:"",children:[t.jsxs("div",{className:"flex justify-between mb-6",children:[t.jsx("h2",{className:"text-2xl font-semibold",children:"Quản lý chuyên khoa"}),t.jsx(l,{type:"primary",className:"bg-blue-500",children:t.jsx(F,{to:"/admin/them-chuyen-khoa",children:"Tạo chuyên khoa"})})]}),t.jsx(o,{onFinish:v,form:s,children:t.jsxs("div",{children:[t.jsxs("div",{className:"mb-8 grid grid-cols-3 gap-10 mx-8",children:[t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-[17px] my-1.5 text-gray-700",children:"Tên chuyên khoa:"}),t.jsx(o.Item,{name:"name",children:t.jsx(O,{placeholder:"Nhập tên chuyên khoa"})})]}),t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-[17px] my-1.5 text-gray-700",children:"Trạng thái:"}),t.jsx(o.Item,{name:"status",children:t.jsx(y,{placeholder:"---Select---",className:"w-full",allowClear:!0,children:(c=m==null?void 0:m.data)==null?void 0:c.map(e=>t.jsx(y.Option,{value:e.value,children:e.name},e.value))})})]})]}),t.jsxs("div",{className:"mb-8 float-right mr-8 flex items-center gap-3",children:[t.jsx(l,{icon:t.jsx(z,{}),onClick:T,children:"Đặt lại"}),t.jsx(l,{type:"primary",icon:t.jsx(Q,{}),className:"bg-blue-600",htmlType:"submit",children:"Tìm kiếm"})]})]})}),t.jsx(V,{columns:I,dataSource:Array.isArray((p=i==null?void 0:i.data)==null?void 0:p.data)?(h=i==null?void 0:i.data)==null?void 0:h.data:[],loading:k,scroll:{y:400},pagination:{current:(d=i==null?void 0:i.data)!=null&&d.currentPage?i.data.currentPage+1:1,total:(u=i==null?void 0:i.data)==null?void 0:u.totalItems,pageSize:10,onChange:b}})]})};export{Wt as default};
