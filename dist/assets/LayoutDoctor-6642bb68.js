import{b as S,o as D,e as M,f as O,by as R,r as T,j as e,L as n,O as Q}from"./index-5d1582d4.js";import{i as $,j as z}from"./index-2ebe3d10.js";import{N as A}from"./Notification-b903467d.js";import{b as f}from"./index-493d93ef.js";import{l as C}from"./logoDA-ea219ba8.js";import{t as E,L as c}from"./index-72f20005.js";import{M as r}from"./index-da9f04ea.js";import{S as g,D as B}from"./index-4ad10529.js";import{A as F}from"./index-e9ae2b2e.js";import{F as G}from"./FundProjectionScreenOutlined-59cc465d.js";import{D as q}from"./DownOutlined-e8684ab4.js";import{R as H,L as K}from"./RollbackOutlined-a6219f1d.js";import"./iconBase-7dfc76c2.js";import"./render-43f47cb9.js";import"./asyncToGenerator-f41fc0b7.js";import"./ExclamationCircleFilled-3566f72d.js";import"./CloseOutlined-21301cb3.js";import"./useZIndex-412122f7.js";import"./useCSSVarCls-2b45069f.js";import"./Compact-de17ca2f.js";import"./index-3aef6c56.js";import"./Overflow-dad1924c.js";import"./index-8ab4410e.js";import"./useMergedState-a94f801d.js";import"./ResizeObserver.es-f4289e8a.js";import"./LeftOutlined-79fdd531.js";import"./EllipsisOutlined-5f99f7fa.js";import"./reactNode-ed0d3403.js";import"./index-98be3a7d.js";import"./collapse-97de76d4.js";import"./Dropdown-fc6ae30f.js";import"./PurePanel-9c90c19c.js";import"./move-8c08fc05.js";import"./button-1dd3c86b.js";import"./compact-item-f6aa6deb.js";import"./responsiveObserver-74647030.js";import"./useBreakpoint-945b7321.js";import"./useForceUpdate-3f4a0339.js";const{Header:P,Content:U,Sider:X}=c,Te=()=>{var h,x,u,j;const k=S(),y=D(),[b]=M(),{data:o,error:i}=O(),m=(h=o==null?void 0:o.data)==null?void 0:h.id,{data:l}=R(),s=(x=l==null?void 0:l.data)==null?void 0:x.filter(t=>t.type===2),d=t=>y.pathname===t;T.useEffect(()=>{i&&"status"in i&&i.status===401&&b().unwrap().then(t=>{localStorage.setItem("token",t.data.token),localStorage.setItem("rfToken",t.data.refreshToken),window.location.reload()}).catch(t=>{console.error("Error refreshing token:",t)})},[i]);const{token:{colorBgContainer:p,borderRadiusLG:N}}=E.useToken(),v=[{key:"dasboard",icon:e.jsx(G,{}),label:"Dashboard",path:""},{key:"account-management",icon:e.jsx($,{}),label:"Quản lý lịch  khám",items:[{key:"doctor1",icon:e.jsx(f,{}),label:"Bác sĩ",path:`quan-ly-lich-kham/bac-si/${m}`},...(s==null?void 0:s.map((t,a)=>({key:a,label:t.doctorName,path:`quan-ly-lich-kham/dich-vu/${t.id}`})))||[]]},{key:"service-management",icon:e.jsx(z,{}),label:"Quản lý lịch đã đặt",items:[{key:"doctor2",icon:e.jsx(f,{}),label:"Bác sĩ",path:`lich-da-dat/bac-si/${m}`},...(s==null?void 0:s.map(t=>({key:t.id.toString(),label:t.doctorName,path:`lich-da-dat/dich-vu/${t.id}`})))||[]]}],w=()=>{localStorage.removeItem("token"),localStorage.removeItem("rfToken"),localStorage.removeItem("role"),A("success","Đăng xuất",""),k("/login")},L=[{label:e.jsxs("button",{className:"mx-2",onClick:w,children:[e.jsx(K,{className:"mr-2"}),"Đăng xuất"]}),key:"2"}];return e.jsxs(c,{className:"h-screen",children:[e.jsxs(X,{theme:"light",trigger:null,collapsible:!0,width:220,style:{overflow:"auto",height:"100vh",position:"fixed",left:0,zIndex:20},children:[e.jsxs("div",{className:"flex justify-center items-center",children:[" ",e.jsx("img",{src:C,className:"w-14 my-4",alt:""})]}),e.jsx(r,{theme:"light",mode:"inline",defaultSelectedKeys:["1"],children:v.map(t=>t.items?e.jsx(r.SubMenu,{icon:t.icon,title:t.label,children:t.items.map(a=>e.jsx(r.Item,{icon:a.icon,className:d(a.path)?"active-menu-item":"",children:e.jsx(n,{to:a.path,title:a.label,children:a.label})},a.key))},t.key):e.jsx(r.Item,{icon:t.icon,className:d(t.path)?"active-menu-item":"",children:e.jsx(n,{to:t.path||"",title:t.label,children:t.label})},t.key))})]}),e.jsxs(c,{className:"max-h-screen",style:{marginLeft:220},children:[e.jsx(P,{style:{padding:0,background:p},className:"flex justify-end fixed top-0 right-0 z-10 w-full drop-shadow",children:e.jsxs("div",{className:"mr-16 flex gap-2",children:[e.jsxs("p",{children:[e.jsx("span",{className:"font-medium text-gray-700",children:"Xin chào bác sĩ !!  "})," ",e.jsx("span",{className:"text-blue-500",children:(u=o==null?void 0:o.data)==null?void 0:u.name})]}),e.jsxs("div",{className:"border-l px-4",children:[e.jsx(g,{wrap:!0,size:16,className:"mr-2",children:e.jsx(F,{size:34,src:`${(j=o==null?void 0:o.data)==null?void 0:j.avatar}`})}),e.jsx(B,{menu:{items:L},trigger:["click"],children:e.jsx("a",{onClick:t=>t.preventDefault(),children:e.jsx(g,{children:e.jsx(q,{})})})})]}),e.jsxs(n,{className:"border-l px-3",to:"/",children:["Quay lại web ",e.jsx(H,{})]})]})}),e.jsx(U,{style:{margin:"88px 24px 0"},children:e.jsx("div",{style:{padding:24,minHeight:360,background:p,borderRadius:N},children:e.jsx(Q,{})})})]})]})};export{Te as default};
