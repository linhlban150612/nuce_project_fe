import{W as y,r,a4 as te,Y,Z as je,$ as Ne,a1 as g,a0 as Ee,ad as re,a6 as Pe,ae as Me,af as ze,j as i,L as we}from"./index-5d1582d4.js";import{f as Oe,g as Le,h as Te}from"./index-2ebe3d10.js";import{N as se}from"./Notification-b903467d.js";import{C as Ie,M as Be}from"./index-99cabba6.js";import{B as R}from"./button-1dd3c86b.js";import{e as He}from"./extendsObject-e8a436b4.js";import{r as le}from"./responsiveObserver-74647030.js";import{D as Ae}from"./index-a21a4ee5.js";import{u as Ge}from"./useBreakpoint-945b7321.js";import{C as De,R as We}from"./row-140c9d21.js";import{P as Re}from"./Pagination-bc2271f4.js";import{S as de}from"./index-8ccb2d3a.js";import{c as Xe}from"./reactNode-ed0d3403.js";import{u as ke}from"./Compact-de17ca2f.js";import{C as Ve}from"./index-1944453b.js";import{A as ce}from"./index-e9ae2b2e.js";import{M as me}from"./index-2499abbf.js";import{E as _e}from"./ExclamationCircleFilled-3566f72d.js";import"./iconBase-7dfc76c2.js";import"./render-43f47cb9.js";import"./asyncToGenerator-f41fc0b7.js";import"./CloseOutlined-21301cb3.js";import"./useZIndex-412122f7.js";import"./useCSSVarCls-2b45069f.js";import"./EllipsisOutlined-5f99f7fa.js";import"./PlusOutlined-c3648a15.js";import"./useMergedState-a94f801d.js";import"./ResizeObserver.es-f4289e8a.js";import"./index-8ab4410e.js";import"./Dropdown-fc6ae30f.js";import"./index-3aef6c56.js";import"./Overflow-dad1924c.js";import"./compact-item-f6aa6deb.js";import"./pickAttrs-c42834d1.js";import"./PurePanel-9c90c19c.js";import"./SearchOutlined-54091923.js";import"./index-3f290c1a.js";import"./useLocale-98ce2b95.js";import"./move-8c08fc05.js";import"./CheckOutlined-9e439339.js";import"./DownOutlined-e8684ab4.js";import"./useForceUpdate-3f4a0339.js";import"./LeftOutlined-79fdd531.js";import"./index-c0762df4.js";import"./index-949dd1fb.js";import"./index-98be3a7d.js";import"./useClosable-dc268733.js";import"./fade-72ecde73.js";const ie=y.createContext({});ie.Consumer;var ge=globalThis&&globalThis.__rest||function(t,e){var n={};for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&e.indexOf(a)<0&&(n[a]=t[a]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,a=Object.getOwnPropertySymbols(t);s<a.length;s++)e.indexOf(a[s])<0&&Object.prototype.propertyIsEnumerable.call(t,a[s])&&(n[a[s]]=t[a[s]]);return n};const Fe=t=>{var{prefixCls:e,className:n,avatar:a,title:s,description:m}=t,x=ge(t,["prefixCls","className","avatar","title","description"]);const{getPrefixCls:$}=r.useContext(te),h=$("list",e),b=Y(`${h}-item-meta`,n),f=y.createElement("div",{className:`${h}-item-meta-content`},s&&y.createElement("h4",{className:`${h}-item-meta-title`},s),m&&y.createElement("div",{className:`${h}-item-meta-description`},m));return y.createElement("div",Object.assign({},x,{className:b}),a&&y.createElement("div",{className:`${h}-item-meta-avatar`},a),(s||m)&&f)},Ke=(t,e)=>{var{prefixCls:n,children:a,actions:s,extra:m,className:x,colStyle:$}=t,h=ge(t,["prefixCls","children","actions","extra","className","colStyle"]);const{grid:b,itemLayout:f}=r.useContext(ie),{getPrefixCls:w}=r.useContext(te),d=()=>{let v;return r.Children.forEach(a,N=>{typeof N=="string"&&(v=!0)}),v&&r.Children.count(a)>1},P=()=>f==="vertical"?!!m:!d(),o=w("list",n),j=s&&s.length>0&&y.createElement("ul",{className:`${o}-item-action`,key:"actions"},s.map((v,N)=>y.createElement("li",{key:`${o}-item-action-${N}`},v,N!==s.length-1&&y.createElement("em",{className:`${o}-item-action-split`})))),C=b?"div":"li",O=y.createElement(C,Object.assign({},h,b?{}:{ref:e},{className:Y(`${o}-item`,{[`${o}-item-no-flex`]:!P()},x)}),f==="vertical"&&m?[y.createElement("div",{className:`${o}-item-main`,key:"content"},a,j),y.createElement("div",{className:`${o}-item-extra`,key:"extra"},m)]:[a,j,Xe(m,{key:"extra"})]);return b?y.createElement(De,{ref:e,flex:1,style:$},O):O},pe=r.forwardRef(Ke);pe.Meta=Fe;const Ue=pe,Ye=t=>{const{listBorderedCls:e,componentCls:n,paddingLG:a,margin:s,itemPaddingSM:m,itemPaddingLG:x,marginLG:$,borderRadiusLG:h}=t;return{[`${e}`]:{border:`${g(t.lineWidth)} ${t.lineType} ${t.colorBorder}`,borderRadius:h,[`${n}-header,${n}-footer,${n}-item`]:{paddingInline:a},[`${n}-pagination`]:{margin:`${g(s)} ${g($)}`}},[`${e}${n}-sm`]:{[`${n}-item,${n}-header,${n}-footer`]:{padding:m}},[`${e}${n}-lg`]:{[`${n}-item,${n}-header,${n}-footer`]:{padding:x}}}},qe=t=>{const{componentCls:e,screenSM:n,screenMD:a,marginLG:s,marginSM:m,margin:x}=t;return{[`@media screen and (max-width:${a}px)`]:{[`${e}`]:{[`${e}-item`]:{[`${e}-item-action`]:{marginInlineStart:s}}},[`${e}-vertical`]:{[`${e}-item`]:{[`${e}-item-extra`]:{marginInlineStart:s}}}},[`@media screen and (max-width: ${n}px)`]:{[`${e}`]:{[`${e}-item`]:{flexWrap:"wrap",[`${e}-action`]:{marginInlineStart:m}}},[`${e}-vertical`]:{[`${e}-item`]:{flexWrap:"wrap-reverse",[`${e}-item-main`]:{minWidth:t.contentWidth},[`${e}-item-extra`]:{margin:`auto auto ${g(x)}`}}}}}},Je=t=>{const{componentCls:e,antCls:n,controlHeight:a,minHeight:s,paddingSM:m,marginLG:x,padding:$,itemPadding:h,colorPrimary:b,itemPaddingSM:f,itemPaddingLG:w,paddingXS:d,margin:P,colorText:o,colorTextDescription:j,motionDurationSlow:C,lineWidth:O,headerBg:v,footerBg:N,emptyTextPadding:I,metaMarginBottom:B,avatarMarginRight:H,titleMarginBottom:A,descriptionFontSize:G}=t,L={};return["start","center","end"].forEach(T=>{L[`&-align-${T}`]={textAlign:T}}),{[`${e}`]:Object.assign(Object.assign({},Ee(t)),{position:"relative","*":{outline:"none"},[`${e}-header`]:{background:v},[`${e}-footer`]:{background:N},[`${e}-header, ${e}-footer`]:{paddingBlock:m},[`${e}-pagination`]:Object.assign(Object.assign({marginBlockStart:x},L),{[`${n}-pagination-options`]:{textAlign:"start"}}),[`${e}-spin`]:{minHeight:s,textAlign:"center"},[`${e}-items`]:{margin:0,padding:0,listStyle:"none"},[`${e}-item`]:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:h,color:o,[`${e}-item-meta`]:{display:"flex",flex:1,alignItems:"flex-start",maxWidth:"100%",[`${e}-item-meta-avatar`]:{marginInlineEnd:H},[`${e}-item-meta-content`]:{flex:"1 0",width:0,color:o},[`${e}-item-meta-title`]:{margin:`0 0 ${g(t.marginXXS)} 0`,color:o,fontSize:t.fontSize,lineHeight:t.lineHeight,"> a":{color:o,transition:`all ${C}`,"&:hover":{color:b}}},[`${e}-item-meta-description`]:{color:j,fontSize:G,lineHeight:t.lineHeight}},[`${e}-item-action`]:{flex:"0 0 auto",marginInlineStart:t.marginXXL,padding:0,fontSize:0,listStyle:"none","& > li":{position:"relative",display:"inline-block",padding:`0 ${g(d)}`,color:j,fontSize:t.fontSize,lineHeight:t.lineHeight,textAlign:"center","&:first-child":{paddingInlineStart:0}},[`${e}-item-action-split`]:{position:"absolute",insetBlockStart:"50%",insetInlineEnd:0,width:O,height:t.calc(t.fontHeight).sub(t.calc(t.marginXXS).mul(2)).equal(),transform:"translateY(-50%)",backgroundColor:t.colorSplit}}},[`${e}-empty`]:{padding:`${g($)} 0`,color:j,fontSize:t.fontSizeSM,textAlign:"center"},[`${e}-empty-text`]:{padding:I,color:t.colorTextDisabled,fontSize:t.fontSize,textAlign:"center"},[`${e}-item-no-flex`]:{display:"block"}}),[`${e}-grid ${n}-col > ${e}-item`]:{display:"block",maxWidth:"100%",marginBlockEnd:P,paddingBlock:0,borderBlockEnd:"none"},[`${e}-vertical ${e}-item`]:{alignItems:"initial",[`${e}-item-main`]:{display:"block",flex:1},[`${e}-item-extra`]:{marginInlineStart:x},[`${e}-item-meta`]:{marginBlockEnd:B,[`${e}-item-meta-title`]:{marginBlockStart:0,marginBlockEnd:A,color:o,fontSize:t.fontSizeLG,lineHeight:t.lineHeightLG}},[`${e}-item-action`]:{marginBlockStart:$,marginInlineStart:"auto","> li":{padding:`0 ${g($)}`,"&:first-child":{paddingInlineStart:0}}}},[`${e}-split ${e}-item`]:{borderBlockEnd:`${g(t.lineWidth)} ${t.lineType} ${t.colorSplit}`,"&:last-child":{borderBlockEnd:"none"}},[`${e}-split ${e}-header`]:{borderBlockEnd:`${g(t.lineWidth)} ${t.lineType} ${t.colorSplit}`},[`${e}-split${e}-empty ${e}-footer`]:{borderTop:`${g(t.lineWidth)} ${t.lineType} ${t.colorSplit}`},[`${e}-loading ${e}-spin-nested-loading`]:{minHeight:a},[`${e}-split${e}-something-after-last-item ${n}-spin-container > ${e}-items > ${e}-item:last-child`]:{borderBlockEnd:`${g(t.lineWidth)} ${t.lineType} ${t.colorSplit}`},[`${e}-lg ${e}-item`]:{padding:w},[`${e}-sm ${e}-item`]:{padding:f},[`${e}:not(${e}-vertical)`]:{[`${e}-item-no-flex`]:{[`${e}-item-action`]:{float:"right"}}}}},Qe=t=>({contentWidth:220,itemPadding:`${g(t.paddingContentVertical)} 0`,itemPaddingSM:`${g(t.paddingContentVerticalSM)} ${g(t.paddingContentHorizontal)}`,itemPaddingLG:`${g(t.paddingContentVerticalLG)} ${g(t.paddingContentHorizontalLG)}`,headerBg:"transparent",footerBg:"transparent",emptyTextPadding:t.padding,metaMarginBottom:t.padding,avatarMarginRight:t.padding,titleMarginBottom:t.paddingSM,descriptionFontSize:t.fontSize}),Ze=je("List",t=>{const e=Ne(t,{listBorderedCls:`${t.componentCls}-bordered`,minHeight:t.controlHeightLG});return[Je(e),Ye(e),qe(e)]},Qe);var et=globalThis&&globalThis.__rest||function(t,e){var n={};for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&e.indexOf(a)<0&&(n[a]=t[a]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,a=Object.getOwnPropertySymbols(t);s<a.length;s++)e.indexOf(a[s])<0&&Object.prototype.propertyIsEnumerable.call(t,a[s])&&(n[a[s]]=t[a[s]]);return n};function U(t){var e,{pagination:n=!1,prefixCls:a,bordered:s=!1,split:m=!0,className:x,rootClassName:$,style:h,children:b,itemLayout:f,loadMore:w,grid:d,dataSource:P=[],size:o,header:j,footer:C,loading:O=!1,rowKey:v,renderItem:N,locale:I}=t,B=et(t,["pagination","prefixCls","bordered","split","className","rootClassName","style","children","itemLayout","loadMore","grid","dataSource","size","header","footer","loading","rowKey","renderItem","locale"]);const H=n&&typeof n=="object"?n:{},[A,G]=r.useState(H.defaultCurrent||1),[L,T]=r.useState(H.defaultPageSize||10),{getPrefixCls:X,renderEmpty:D,direction:k,list:z}=r.useContext(te),V={current:1,total:0},l=c=>(u,E)=>{var ee;G(u),T(E),n&&n[c]&&((ee=n==null?void 0:n[c])===null||ee===void 0||ee.call(n,u,E))},M=l("onChange"),q=l("onShowSizeChange"),he=(c,u)=>{if(!N)return null;let E;return typeof v=="function"?E=v(c):v?E=c[v]:E=c.key,E||(E=`list-item-${u}`),r.createElement(r.Fragment,{key:E},N(c,u))},fe=()=>!!(w||n||C),p=X("list",a),[ue,xe,$e]=Ze(p);let W=O;typeof W=="boolean"&&(W={spinning:W});const J=W&&W.spinning,Se=ke(o);let _="";switch(Se){case"large":_="lg";break;case"small":_="sm";break}const be=Y(p,{[`${p}-vertical`]:f==="vertical",[`${p}-${_}`]:_,[`${p}-split`]:m,[`${p}-bordered`]:s,[`${p}-loading`]:J,[`${p}-grid`]:!!d,[`${p}-something-after-last-item`]:fe(),[`${p}-rtl`]:k==="rtl"},z==null?void 0:z.className,x,$,xe,$e),S=He(V,{total:P.length,current:A,pageSize:L},n||{}),ne=Math.ceil(S.total/S.pageSize);S.current>ne&&(S.current=ne);const ae=n?r.createElement("div",{className:Y(`${p}-pagination`,`${p}-pagination-align-${(e=S==null?void 0:S.align)!==null&&e!==void 0?e:"end"}`)},r.createElement(Re,Object.assign({},S,{onChange:M,onShowSizeChange:q}))):null;let Q=re(P);n&&P.length>(S.current-1)*S.pageSize&&(Q=re(P).splice((S.current-1)*S.pageSize,S.pageSize));const Ce=Object.keys(d||{}).some(c=>["xs","sm","md","lg","xl","xxl"].includes(c)),oe=Ge(Ce),F=r.useMemo(()=>{for(let c=0;c<le.length;c+=1){const u=le[c];if(oe[u])return u}},[oe]),ve=r.useMemo(()=>{if(!d)return;const c=F&&d[F]?d[F]:d.column;if(c)return{width:`${100/c}%`,maxWidth:`${100/c}%`}},[d==null?void 0:d.column,F]);let Z=J&&r.createElement("div",{style:{minHeight:53}});if(Q.length>0){const c=Q.map((u,E)=>he(u,E));Z=d?r.createElement(We,{gutter:d.gutter},r.Children.map(c,u=>r.createElement("div",{key:u==null?void 0:u.key,style:ve},u))):r.createElement("ul",{className:`${p}-items`},c)}else!b&&!J&&(Z=r.createElement("div",{className:`${p}-empty-text`},I&&I.emptyText||(D==null?void 0:D("List"))||r.createElement(Ae,{componentName:"List"})));const K=S.position||"bottom",ye=r.useMemo(()=>({grid:d,itemLayout:f}),[JSON.stringify(d),f]);return ue(r.createElement(ie.Provider,{value:ye},r.createElement("div",Object.assign({style:Object.assign(Object.assign({},z==null?void 0:z.style),h),className:be},B),(K==="top"||K==="both")&&ae,j&&r.createElement("div",{className:`${p}-header`},j),r.createElement(de,Object.assign({},W),Z,b),C&&r.createElement("div",{className:`${p}-footer`},C),w||(K==="bottom"||K==="both")&&ae)))}U.Item=Ue;const{confirm:tt}=me,qt=()=>{var G,L,T,X,D,k,z,V;const[t,e]=r.useState(4),[n,a]=r.useState([]),[s,m]=r.useState(!1),[x,$]=r.useState(!1),[h,b]=r.useState(!1),{data:f,isLoading:w}=Pe(),[d]=Me(),[P,{data:o,isLoading:j}]=ze(),C=r.useMemo(()=>(f==null?void 0:f.data)||[],[f]);r.useEffect(()=>{C.length<=t?$(!0):$(!1)},[C,t]);const O=()=>{e(l=>l+4)},v=()=>{e(l=>l-4),a([])},N=l=>{n.includes(l)?a(M=>M.filter(q=>q!==l)):a(M=>[...M,l])},I=()=>{if(s)a([]);else{const l=C.map(M=>M.id);a(l)}m(l=>!l)},B=l=>{l.length>0&&tt({title:"Xác nhận xoá!",icon:i.jsx(_e,{}),content:"Bạn có chắc muốn xoá hồ sơ này không?",okText:"Có",cancelText:"Không",okType:"danger",async onOk(){await d({idsToDelete:l}).unwrap().then(()=>{se("success","Thành công","Xoá hồ sơ thành công!!"),a([])}).catch(M=>{se("error","Lỗi",M.data.message||M.data)})}})},H=l=>{P(l),b(!0)},A=()=>{b(!1)};return i.jsxs("div",{className:"mx-auto",children:[i.jsx("h2",{className:"text-2xl font-medium mb-4",children:"Danh sách hồ sơ"}),n.length>0&&i.jsxs("div",{className:"flex gap-2 items-center",children:[i.jsx(R,{onClick:I,children:s?"Bỏ chọn tất cả":"Chọn tất cả"}),i.jsx(R,{type:"primary",danger:!0,onClick:()=>B(n),children:"Xoá"})]}),i.jsx(U,{className:"demo-loadmore-list px-6 max-h-[400px] overflow-y-auto shadow-sm",loading:w,itemLayout:"horizontal",loadMore:null,dataSource:C.slice(0,t),renderItem:l=>i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx(Ve,{onChange:()=>N(l.id),checked:n.includes(l.id)}),i.jsxs(U.Item,{actions:[i.jsx("button",{onClick:()=>H(l.id),children:i.jsx(Oe,{className:"text-blue-400 text-2xl hover:text-blue-300"})},"list-loadmore-view"),i.jsx(we,{to:`sua/${l.id}`,children:i.jsx(Le,{className:"text-yellow-400 text-2xl hover:text-yellow-300"})},"list-loadmore-edit"),i.jsx("button",{onClick:()=>B([l.id]),children:i.jsx(Te,{className:"text-red-400 text-2xl hover:text-red-300"})},"list-loadmore-delete")],children:[i.jsx("div",{className:"min-w-48",children:i.jsx(U.Item.Meta,{avatar:i.jsx(ce,{src:l.imgUrl}),title:i.jsx("a",{href:"https://ant.design",children:l.fullName}),description:l.genderValue||""})}),i.jsxs("div",{className:"w-[500px] flex justify-around items-center",children:[i.jsxs("div",{children:[i.jsx("p",{className:"mb-1 font-medium",children:"Ngày sinh"}),i.jsx("p",{children:l.birthdate})]}),i.jsxs("div",{children:[i.jsx("p",{className:"mb-1 font-medium",children:"Email"}),i.jsx("p",{children:l.email})]}),i.jsxs("div",{children:[i.jsx("p",{className:"mb-1 font-medium",children:"Số điện thoại"}),i.jsx("p",{children:l.phoneNumber})]})]})]})]})}),C.length>4&&i.jsx("div",{className:"mt-4 text-center",children:x?i.jsx(R,{onClick:v,children:"Ẩn"}):i.jsx(R,{onClick:O,children:"Xem thêm"})}),i.jsx(me,{title:"Thông tin hồ sơ",visible:h,onCancel:A,footer:[i.jsx(R,{onClick:A,children:"Đóng"},"close")],children:i.jsx(de,{spinning:j,children:i.jsx(Ie,{children:i.jsx(Be,{avatar:i.jsx(ce,{src:(G=o==null?void 0:o.data)==null?void 0:G.imgUrl,size:80}),title:(L=o==null?void 0:o.data)==null?void 0:L.fullName,description:i.jsxs("div",{className:"leading-6 text-gray-700",children:[i.jsxs("p",{children:[i.jsx("span",{className:"font-semibold",children:"Giới tính: "})," ",(T=o==null?void 0:o.data)==null?void 0:T.genderValue]}),i.jsxs("p",{children:[i.jsx("span",{className:"font-semibold",children:"Ngày sinh: "})," ",(X=o==null?void 0:o.data)==null?void 0:X.birthdate]}),i.jsxs("p",{children:[i.jsx("span",{className:"font-semibold",children:" Email: "}),(D=o==null?void 0:o.data)==null?void 0:D.email]}),i.jsxs("p",{children:[i.jsx("span",{className:"font-semibold",children:"Số điện thoại: "})," ",(k=o==null?void 0:o.data)==null?void 0:k.phoneNumber]}),i.jsxs("p",{children:[i.jsx("span",{className:"font-semibold",children:"Địa chỉ: "})," ",(z=o==null?void 0:o.data)==null?void 0:z.address]}),i.jsxs("p",{children:[i.jsx("span",{className:"font-semibold",children:"Nghề nghiệp: "})," ",(V=o==null?void 0:o.data)==null?void 0:V.job]})]})})})})})]})};export{qt as default};
